<!doctype html>
<html lang="en-us">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>Unity WebGL Player | Test</title>
		<link rel="stylesheet" href="TemplateData/style.css">
		<link rel="shortcut icon" href="TemplateData/favicon.ico" />
		<script src="TemplateData/UnityProgress.js"></script>
	</head>
	<body class="template">
		<div class="template-wrap clear">
			<canvas class="emscripten" id="canvas" oncontextmenu="event.preventDefault()" height="600px" width="960px"></canvas>
			<br>
			<div class="logo"></div>
			<div class="fullscreen"><img src="TemplateData/fullscreen.png" width="38" height="38" alt="Fullscreen" title="Fullscreen" onclick="SetFullscreen(1);" /></div>
			<div class="title">Test</div>
		</div>
		<script type='text/javascript'>
			var Module =
			{
				TOTAL_MEMORY: 268435456,
				errorhandler: null,			// arguments: err, url, line. This function must return 'true' if the error is handled, otherwise 'false'
				compatibilitycheck: null,
				backgroundColor: "#231F20",
				splashStyle: "Light",
				dataUrl: "Development/view.data",
				codeUrl: "Development/UnityEngine.js",
				asmUrl: "Development/UnityEngine.asm.js",
				memUrl: "Development/UnityEngine.mem",
				dynamicLibraries: ["Development/view.js"],
			};

			function GetQueryVariable(variable)
			{
				var query = window.location.search.substring(1);
				var vars = query.split("&");
				for (var i=0;i<vars.length;i++) {
					var pair = vars[i].split("=");
					if(pair[0] == variable){return pair[1];}
				}
				return(false);
			}
			
		</script>
	<script src="Development/UnityLoader.js"></script>
	<script type='text/javascript'>
		var unity = unityObject.getObjectById("unityPlayer");
		unity.SendMessage("GameManager", "Init", GetQueryVariable("player_port"), GetQueryVariable("server_port"), GetQueryVariable("slave_server_port"));
	</script>
	
	</body>
</html>
